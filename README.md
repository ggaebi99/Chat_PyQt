# Chatting_Application
***
## 기본적인 설명
서버를 통한 다중채팅
***
## 제작동기
> 3학년 1학기 끝나고 시간이 남아 파이썬에 대한 기본 지식과 PyQt를 더 익히고 싶어서 제작하게 되었다.
***
## 필요한 동작
> 1. 서버는 메인서버를 열어 로그인을 검사한다.
> 2. 서버는 유저의 요청이 있을 시 포트를 열어주어 채팅방의 생성이 가능하게 한다.
> 3. 서버는 채팅방의 생성과 동시에 데이터베이스에 작성한다.
> 4. 서버는 유저가 이미 있는 채팅방에 접속을 원할 시 비밀번호의 여부 와 채팅방의 한계 인원수, 현재 접속해 있는 유저의 수를 검사하여 비교하여 보내준다.
> 5. 서버는 유저가 채팅방에 접속, 종료할 시 접속메시지와 종료메시지를 이미 존재하는 유저에게 뿌려준다.
> 6. 유저는 처음에 프로그램을 실행할 시 로그인창이 뜨게 되고 로그인 정보를 입력할 수 있다.
> 7. 유저는 로그인 후 현재 존재하는 채팅방과 채팅방의 정보들을 볼 수 있다.
> 8. 유저는 비밀번호가 있는 채팅방에 접속할 시 비밀번호를 입력한다. 
> 9. 유저는 채팅방에서 채팅을 할 수있고, 종료가 가능하다.
***
## 동작 과정
> 1. 서버에서 메인서버를 열어 유저의 접속을 대기한다.
> 2. 유저가 서버에 접속했을 시 로그인 정보를 데이터베이스와 검사하여 정보가 없다면 그에 따른 메시지를 보여준다.
> 3. 로그인을 완료한 유저는 메인화면을 보게되고 메인화면에서는 이미 존재하는 채팅창과 그에 대한 정보들이 있다.
> 4. 유저가 새로운 채팅방을 생성할 때 서버에서 포트를 랜덤한 값으로 열어주고 그에 대한 정보는 서버에 데이터베이스에 저장된다.
> 5. 유저가 이미 존재하는 채팅방에 존재할 때 서버는 채팅방에 대한 정보를 검사하고 비밀번호가 존재할 시에는 유저는 비밀번호를 입력하게 되고, 비밀번호가 없다면 데이터베이스의 값을 업데이트하여 접속하게 된다.
> 6. 유저가 채팅방을 종료할 시에 서버는 데이터베이스의 값을 수정하고 접속해있는 다른 유저들에게 그값을 보여주게 된다.
> 7. 유저가 채팅을 입력시 서버는 그 값을 다른 유저들에게 보내주게 된다.
***
## 필요한 공부
> 1. 소켓프로그래밍에 대한 이해
> 2. PyQt에 대한 이해
> 3. 스레드에 대한 이해
> 4. 데이터 베이스에 대한 이해
***
## 부가적인 설명
아직 실력적으로 부족하여 보안에 대한 동작이나 예상치 못한 동작이 들어올 시 그에 대한 처리를 하지 못했기 때문에 사용을 위한다면 그러한 부분을 잘 생각하고 사용을 고려해야합니다.
***
## 마지막 해결과제
보안에 대한 부분을 처리를 해주어야 하고, 동작에 있어서 원하는 동작이 아닐 때 버그가 나는 부분도 아직 많기 때문에 완성이라고 할 수는 없다.
***
## 동작사진
### 처음프로그램을 실행한 화면
유저가 로그인 정보를 입력한다.

![initail](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/a3ee74f5-c84b-4dfa-804d-eff9d6bf66c2)

로그인 실패 시

![login_fail](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/644b4c57-8224-496c-947c-91b27cb7489a)

### 로그인 성공 시
유저는 방만들기, 새로고침(완전한 실시간이 이루어 지지 않음으로 수동처리로 하게 되었다.)이 가능하다.
 
![login_correct](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/a6ceb3f3-31dc-47b9-8140-5eff1be3a24f)

### 방만들기 선택 시
유저는 방 이름, 인원 제한, 비밀번호 여부, 비밀번호를 설정할 수 있고, 비밀방으로 선택되지 않으면 비밀번호는 입력이 불가능 하게 처리해주었다.

![make_room_click](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/c8251819-a303-4d62-a716-be518a5a537f)

### 방만들기 완료 시

![make_room](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/ac61eee7-3ae1-4ee7-a874-313394fba2e2)

다른유저가 입장, 퇴장 시 알려준다.

![enter_another_user](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/16d09f81-6d0f-47ff-8f43-77f6c125f598)

![user_out](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/ed1f5a4d-4322-4f26-9e9c-1ee715582470)

### 이미 존재하는 방에 입장 시 
인원 수, 비밀번호 여부, 비밀번호를 검사하여 그에 맞는 동작을 진행한다.

![have_password](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/8245db4b-2bf1-4523-9f92-555c978538c0)

![no_password](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/0a968bb8-438a-4b70-9fd6-c79eade67688)

![user_full](https://github.com/ggaebi99/Chat_PyQt/assets/127026645/e3c47e87-3fe3-45fd-94d9-9f90e12cbad1)